(this["webpackJsonpstore-navarrete-cecilia"]=this["webpackJsonpstore-navarrete-cecilia"]||[]).push([[0],{18:function(t,e,n){},22:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},43:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),r=n(23),a=n.n(r),i=(n(29),n(30),n(21)),o=n(9),l=function(t,e){var n=Object(c.useState)(1),s=Object(o.a)(n,2),r=s[0],a=s[1],i=Math.ceil(t.length/e);return{next:function(){a((function(t){return Math.min(t+1,i)}))},prev:function(){a((function(t){return Math.max(t-1,1)}))},currentData:function(){var n=(r-1)*e,c=n+e;return t.slice(n,c)},currentPage:r,maxPage:i}},u=n(0),j=s.a.createContext();function d(t){var e=t.children,n=Object(c.useState)({}),s=Object(o.a)(n,2),r=s[0],a=s[1],d=Object(c.useState)([]),x=Object(o.a)(d,2),b=x[0],h=x[1],O=Object(c.useState)({}),m=Object(o.a)(O,2),f=m[0],p=m[1],g=Object(c.useState)(0),v=Object(o.a)(g,2),N=v[0],w=v[1],y=Object(c.useState)([]),C=Object(o.a)(y,2),k=C[0],P=C[1],S=l(b,16),L=l(k,16),D=b.length,I=k.length;return Object(u.jsx)(j.Provider,{value:{user:r,setUser:a,handlerAddPoint:function(t){var e=Object(i.a)({},r);e.points=r.points+t,a(e)},handlerSubtractPoint:function(t){var e=Object(i.a)({},r);e.points=r.points-t,a(e)},products:b,setProducts:h,totalProducts:D,reedemStatus:f,setReedemStatus:p,paginationList:S,points:N,setPoints:w,history:k,setHistory:P,paginationHistoryList:L,totalHistory:I},children:e})}n(32),n(33);var x=function(t){return Object(u.jsxs)("div",{className:"details flex-row ".concat(t.classContainer),children:[Object(u.jsx)("h5",{className:"normal-text center ".concat(t.classText),children:t.text}),Object(u.jsx)("img",{className:"center",src:"./images/coin.svg",alt:"icono"})]})},b=(n(34),n(10)),h=function(){return Object(u.jsxs)("ul",{className:"menu flex-row",children:[Object(u.jsx)("li",{className:"pink-line",children:Object(u.jsx)(b.b,{className:"normal-text",to:"/acamica-rewards-store/",children:"Home"})}),Object(u.jsx)("li",{className:"pink-line",children:Object(u.jsx)(b.b,{className:"normal-text",to:"/acamica-rewards-store/points",children:"Add points"})}),Object(u.jsx)("li",{className:"pink-line",children:Object(u.jsx)(b.b,{className:"normal-text",to:"/acamica-rewards-store/history",children:"History"})})]})},O=function(){var t=Object(c.useContext)(j).user;return Object(u.jsxs)("nav",{className:"nav flex-row",children:[Object(u.jsx)("div",{className:"container-logo",children:Object(u.jsx)("img",{src:"./images/aerolab-logo.svg",alt:"logo"})}),Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"container-points flex-row center",children:[Object(u.jsx)("h3",{className:"normal-text center",children:t.name}),Object(u.jsx)(x,{text:t.points})]})]})},m=(n(43),function(){return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("img",{className:"img-portal",src:"./images/header-x2.png",alt:"auriculares-inalambricos"}),Object(u.jsx)("h1",{className:"principal-text",children:"Electronics"})]})}),f=(n(22),function(){var t=Object(c.useContext)(j),e=t.reedemStatus,n=t.setReedemStatus;return e.msg?Object(u.jsx)("div",{className:"modal center",children:Object(u.jsxs)("div",{className:"container-msj flex-column ".concat(e.status?"success":"error"),children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"image-ok-error",alt:"close",src:e.status?"./images/success.svg":"./images/error.png"})}),Object(u.jsx)("h4",{className:"text10",children:e.msg}),Object(u.jsx)("button",{className:"button-ok-error",onClick:function(){return n({})},children:e.status?"continue":"try again"})]})}):Object(u.jsx)(u.Fragment,{children:" "})}),p=n(4),g=n.n(p),v=n(8),N="https://coding-challenge-api.aerolab.co/",w={"Content-Type":"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGY1Zjg4YzY3Mjk2ZTAwMTk5NjQxM2YiLCJpYXQiOjE2MjY3MzI2ODR9.8a4VIU7S_BsQjLs2qsmG5Gptn_SKHz-WLbDSQtRhpBA")},y=function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(N+"user/me",{headers:w});case 3:return e=t.sent,t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),C=n(2),k=(n(45),n(46),function(t){return Object(u.jsx)("button",{className:"btn-filter flex-row center ".concat(t.classbutton),onClick:t.handlerOnClick,children:Object(u.jsx)("h5",{className:"normal-text center text-full ".concat(t.classtext),children:t.text})})}),P=(n(47),function(t){return Object(u.jsxs)("div",{className:"flex-row btn-arrow center",children:[t.list.currentPage>1?Object(u.jsx)("button",{onClick:function(){return t.list.prev()},className:"container-arrow",children:Object(u.jsx)("img",{src:"./images/arrow-left.svg",alt:"flecha"})}):null,t.list.currentPage!==t.list.maxPage?Object(u.jsx)("button",{onClick:function(){return t.list.next()},className:"container-arrow",children:Object(u.jsx)("img",{src:"./images/arrow-right.svg",alt:"flecha"})}):null]})}),S=n(15),L=function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(N+"products",{headers:w});case 3:return e=t.sent,t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(c.useContext)(j),e=t.totalProducts,n=t.user,s=t.setProducts,r=t.paginationList,a=t.products;return Object(u.jsxs)("aside",{className:"filter flex-row",children:[Object(u.jsx)("div",{className:"container-page center",children:Object(u.jsxs)("h3",{className:"normal-text",children:[r.currentData().length," of ",e," products"]})}),Object(u.jsx)(P,{}),Object(u.jsxs)("div",{className:"container-filter flex-row",children:[Object(u.jsx)("div",{className:"container-sort",children:Object(u.jsx)("h3",{className:"normal-text",children:"Sort by:"})}),Object(u.jsxs)("div",{className:"container-btn flex-row",children:[Object(u.jsxs)("div",{className:"flex-row container-btn-filter",children:[Object(u.jsx)(k,{text:"Lowest price",handlerOnClick:function(){var t=function(t){var e=t.sort((function(t,e){return t.cost>e.cost?1:t.cost<e.cost?-1:0}));return Object(S.a)(e)}(a);s(t)}}),Object(u.jsx)(k,{text:"Highest price",handlerOnClick:function(){var t=function(t){var e=t.sort((function(t,e){return t.cost>e.cost?-1:t.cost<e.cost?1:0}));return Object(S.a)(e)}(a);s(t)}})]}),Object(u.jsxs)("div",{className:"flex-row container-btn-filter",children:[Object(u.jsx)(k,{text:"Availability",handlerOnClick:function(){var t=function(t,e){return Object(S.a)(t).filter((function(t){return t.cost<e.points}))}(a,n);s(t)}}),Object(u.jsx)(k,{text:"Clear sort",handlerOnClick:function(){L().then((function(t){return s(t)}))},classbutton:"pink",classtext:"text-white"})]})]})]})]})},I=(n(48),n(18),function(){var t=Object(v.a)(g.a.mark((function t(e){var n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={productId:e},t.next=4,fetch(N+"redeem",{method:"POST",headers:w,body:JSON.stringify(n)});case 4:return c=t.sent,t.abrupt("return",c);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),M=function(t){var e=Object(c.useContext)(j),n=e.handlerSubtractPoint,s=e.setReedemStatus;return Object(u.jsxs)("div",{className:"selected-product flex-column",children:[Object(u.jsx)("div",{className:"container-buy-white",children:Object(u.jsx)("img",{src:"./images/buy-white.svg",alt:"bag"})}),Object(u.jsxs)("div",{className:"flex-row center",children:[Object(u.jsx)("h3",{className:"text-product-point",children:t.points}),Object(u.jsx)("img",{className:"white-bag",src:"./images/coin.svg",alt:"coin"})]}),Object(u.jsx)(k,{text:"Redeem now",handlerOnClick:function(){I(t.id).then((function(e){if(n(t.points),!e.ok)throw Error(e.status);return e.json()})).then((function(t){s({status:!0,msg:t.message})})).catch((function(t){s({status:!1,msg:"ups hubo un error"}),console.log(t)}))}})]})},H=function(t){var e=Object(c.useContext)(j).user,n=Object(c.useState)(!1),s=Object(o.a)(n,2),r=s[0],a=s[1],i=function(){a(!r)},l=t.points-e.points;return Object(u.jsxs)("div",{className:"product flex-column center",onMouseEnter:i,onMouseLeave:i,children:[Object(u.jsxs)("div",{className:"container-position",children:[Object(u.jsxs)("div",{className:"product-container",children:[Object(u.jsx)("img",{className:"photo",src:t.url,alt:"producto"}),e.points<t.points?Object(u.jsx)(x,{classContainer:"btn-neededPoints top-icono center",classText:"text-neededPoints",text:"You need ".concat(l)}):Object(u.jsx)("div",{className:"top-icono blue-bag",children:Object(u.jsx)("img",{src:"./images/buy-blue.svg",alt:"bag"})})]}),Object(u.jsxs)("div",{className:"container-description flex-column",children:[Object(u.jsx)("h4",{className:"product-name",children:t.name}),Object(u.jsx)("h4",{className:"product-category",children:t.category})]})]}),e.points>t.points&&r?Object(u.jsx)(M,{points:t.points,id:t.id}):null]})},J=function(){var t=Object(c.useContext)(j).paginationList;return Object(u.jsx)("main",{className:"result flex-row",children:t.currentData().length>0?t.currentData().map((function(t,e){return Object(u.jsx)(H,{id:t._id,url:t.img.hdUrl,name:t.name,category:t.category,points:t.cost},e)})):null})},T=(n(49),function(t){return Object(u.jsxs)("footer",{className:"footer flex-row",children:[Object(u.jsxs)("h3",{className:"normal-text",children:[t.list.currentData().length," of ",t.totalList," products"]}),Object(u.jsx)(P,{list:t.list})]})}),A=function(){var t=Object(c.useContext)(j),e=t.totalProducts,n=t.paginationList,s=t.setProducts;return Object(c.useEffect)((function(){L().then((function(t){s(t)}))}),[s]),Object(u.jsxs)("section",{className:"section",children:[Object(u.jsx)(D,{}),Object(u.jsx)(J,{}),Object(u.jsx)(T,{list:n,totalList:e})]})},E=function(t){return Object(u.jsxs)("div",{className:"flex-row small-container",children:[Object(u.jsx)("div",{className:"container-imgHistory",children:Object(u.jsx)("img",{className:"h100",src:t.url,alt:"producto"})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{className:"small-text",children:["Category: ",t.category]}),Object(u.jsxs)("h3",{className:"small-text",children:["Cost: ",t.cost]}),Object(u.jsxs)("h3",{className:"small-text",children:["Date: ",t.date]})]})]})},F=(n(50),function(t){return Object(u.jsx)("div",{className:"container-title center",children:Object(u.jsx)("h3",{className:"title",children:t.title})})}),R=function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(N+"user/history",{headers:w});case 3:return e=t.sent,t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=Object(c.useContext)(j),e=t.paginationHistoryList,n=t.setHistory,s=t.totalHistory;return Object(c.useEffect)((function(){R().then((function(t){n(t)}))}),[n]),Object(u.jsxs)("section",{className:"section",children:[Object(u.jsx)(F,{title:"Get user redeem history"}),e.currentData().map((function(t){return Object(u.jsx)(E,{url:t.img.url,category:t.category,cost:t.cost,date:t.createDate},t.createDate)})),Object(u.jsx)(T,{list:e,totalList:s})]})},z=(n(51),function(){var t=Object(v.a)(g.a.mark((function t(e){var n,c,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={amount:e},t.prev=1,t.next=4,fetch(N+"user/points",{method:"POST",headers:w,body:JSON.stringify(n)});case 4:return c=t.sent,t.next=7,c.json();case 7:return s=t.sent,t.abrupt("return",s);case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()),B=function(t){var e=Object(c.useContext)(j),n=e.points,s=e.handlerAddPoint,r=e.setProducts;return Object(u.jsx)("div",{className:"container-selector flex-row center",children:Object(u.jsx)("button",{value:n,onClick:function(){return e=t.value,z(e).then((function(t){s(e),alert(t.message)})),void L().then((function(t){r(t)}));var e},className:"selector normal-text",children:t.description})})},G=function(){return Object(u.jsxs)("section",{className:"section",children:[Object(u.jsx)(F,{title:"Add points to your user"}),Object(u.jsxs)("div",{className:"center flex-column",children:[Object(u.jsx)(B,{description:"add 1000 points",value:1e3}),Object(u.jsx)(B,{description:"add 5000 points",value:5e3}),Object(u.jsx)(B,{description:"add 7500 points",value:7500})]})]})},Q=function(){return Object(u.jsx)("div",{className:"modal center bg-green",children:Object(u.jsx)("img",{src:"./images/notFound.png",alt:"error"})})},U=function(){return Object(u.jsxs)(C.c,{children:[Object(u.jsx)(C.a,{exact:!0,path:"/acamica-rewards-store",children:Object(u.jsx)(A,{})}),Object(u.jsx)(C.a,{path:"/acamica-rewards-store/history",children:Object(u.jsx)(Y,{})}),Object(u.jsx)(C.a,{path:"/acamica-rewards-store/points",children:Object(u.jsx)(G,{})}),Object(u.jsx)(C.a,{path:"*",children:Object(u.jsx)(Q,{})})]})};var _=function(){var t=Object(c.useContext)(j).setUser;return Object(c.useEffect)((function(){y().then((function(e){t(e)}))}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{}),Object(u.jsx)(O,{}),Object(u.jsx)(m,{}),Object(u.jsx)(U,{})]})},V=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),s(t),r(t),a(t)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(d,{children:Object(u.jsx)(b.a,{children:Object(u.jsx)(_,{})})})}),document.getElementById("root")),V()}},[[52,1,2]]]);
//# sourceMappingURL=main.113af082.chunk.js.map